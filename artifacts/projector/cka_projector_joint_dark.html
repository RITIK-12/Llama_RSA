<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>CKA Projector — Joint (en+hi)</title>
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <style>
    :root {
      color-scheme: dark;
      --bg: #0f1116;
      --panel: #151923;
      --text: #e6e6e6;
      --muted: #9aa4b2;
      --border: #222836;
      --accent: #5ab3ff;
    }
    html, body { height:100%; }
    body {
      margin:0; background: var(--bg); color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }
    #controls {
      padding: 10px 14px; display:flex; gap:22px; align-items:center; flex-wrap:wrap;
      border-bottom: 1px solid var(--border); background: var(--panel);
    }
    .group { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .group > .label { font-weight:600; color: var(--muted); margin-right:2px; }
    .chip { background:#1d2330; border:1px solid var(--border); padding:4px 8px; border-radius:999px; }
    #plot { width:100vw; height: calc(100vh - 54px); }
    a.btn { color: var(--text); text-decoration:none; background:#1d2330; border:1px solid var(--border); padding:6px 10px; border-radius:8px; }
    a.btn:hover { border-color: var(--accent); }
  </style>
</head>
<body>
  <div id="controls">
    <div class="group" id="datasets">
      <span class="label">Datasets:</span>
      <label class="chip"><input type="checkbox" class="subsetcb" value="en" checked> en</label>
      <label class="chip"><input type="checkbox" class="subsetcb" value="hi" checked> hi</label>
    </div>
    <div class="group" id="models">
      <span class="label">Models:</span>
      <label class="chip"><input type="checkbox" class="modelcb" value="meta-llama/Llama-3.1-8B" checked> meta-llama/Llama-3.1-8B</label><label class="chip"><input type="checkbox" class="modelcb" value="meta-llama/Llama-3.2-1B" checked> meta-llama/Llama-3.2-1B</label><label class="chip"><input type="checkbox" class="modelcb" value="meta-llama/Llama-3.2-3B" checked> meta-llama/Llama-3.2-3B</label><label class="chip"><input type="checkbox" class="modelcb" value="openai/gpt-oss-20b" checked> openai/gpt-oss-20b</label>
    </div>
    <div class="group">
      <label class="chip"><input type="checkbox" id="pairs" checked> show pair links (en↔hi)</label>
    </div>
    <div class="group">
      <a href="#" class="btn" id="resetcam">Reset view</a>
    </div>
  </div>

  <div id="plot"></div>

  <script id="TRACE_POINTS" type="application/json">[{"kind": "points", "subset": "en", "model": "meta-llama/Llama-3.1-8B", "name": "meta-llama/Llama-3.1-8B [en]", "x": [0.7600491642951965, 0.7985439896583557, 0.8328583836555481, 0.8778132796287537, 0.8574036359786987, 0.8579843044281006, 0.863868772983551, 0.8374199867248535, 0.8487735390663147, 0.8193911910057068, 0.8361912965774536, 0.8596382141113281, 0.8854217529296875, 0.8908146023750305, 0.8358294367790222, 0.8431723117828369, 0.8639349341392517, 0.8657228946685791, 0.8529009222984314, 0.8551172018051147, 0.8499290943145752, 0.850007176399231, 0.8477258682250977, 0.8442065119743347, 0.8426351547241211, 0.8491807579994202, 0.8479320406913757, 0.8486272692680359, 0.8547084331512451, 0.8494298458099365, 0.856877863407135, 0.79931640625], "y": [-0.05620315298438072, 0.003081065835431218, 0.040731169283390045, 0.10245273262262344, 0.2274167239665985, 0.28896990418434143, 0.3092959225177765, 0.36454546451568604, 0.3667845129966736, 0.39098912477493286, 0.3879208266735077, 0.370433509349823, 0.33879923820495605, 0.32346880435943604, 0.3506644368171692, 0.3218762278556824, 0.3194660246372223, 0.3155500590801239, 0.3281515836715698, 0.3291870653629303, 0.3343271017074585, 0.33976873755455017, 0.340605765581131, 0.3411729335784912, 0.34002795815467834, 0.32736721634864807, 0.3301193416118622, 0.3313595652580261, 0.32551801204681396, 0.32256796956062317, 0.289287269115448, 0.2721017301082611], "z": [-0.408672571182251, -0.40407872200012207, -0.3563317060470581, -0.21656489372253418, -0.07536891847848892, -0.04667587950825691, -0.0538194365799427, 0.0018389350734651089, 0.009596862830221653, 0.0316559262573719, 0.030997445806860924, 0.02270006388425827, 0.015806924551725388, 0.02773933857679367, 0.09275788068771362, 0.0917598158121109, 0.10340838134288788, 0.11868075281381607, 0.15025462210178375, 0.16514000296592712, 0.17547863721847534, 0.18456585705280304, 0.19100439548492432, 0.19096441566944122, 0.19057609140872955, 0.17706049978733063, 0.18398380279541016, 0.18487222492694855, 0.16992031037807465, 0.16727672517299652, 0.14146097004413605, 0.1298595517873764], "text": ["meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L1", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L2", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L3", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L4", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L5", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L6", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L7", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L8", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L9", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L10", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L11", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L12", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L13", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L14", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L15", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L16", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L17", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L18", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L19", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L20", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L21", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L22", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L23", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L24", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L25", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L26", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L27", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L28", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L29", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L30", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L31", "meta-llama/Llama-3.1-8B<br>subset=en<br>layer=L32"], "color": "#4E79A7"}, {"kind": "points", "subset": "en", "model": "meta-llama/Llama-3.2-1B", "name": "meta-llama/Llama-3.2-1B [en]", "x": [0.7617435455322266, 0.8011446595191956, 0.8468958139419556, 0.8657321333885193, 0.8435563445091248, 0.8602239489555359, 0.879855215549469, 0.8856377601623535, 0.8611871004104614, 0.8918454647064209, 0.8706190586090088, 0.8705084323883057, 0.868507981300354, 0.8619053363800049, 0.8592190742492676, 0.8307879567146301], "y": [-0.044864945113658905, -0.005524822510778904, 0.04778238758444786, 0.1456778645515442, 0.23299503326416016, 0.25176307559013367, 0.2641638219356537, 0.26510709524154663, 0.2425350546836853, 0.21390466392040253, 0.2210407257080078, 0.22918106615543365, 0.2316771000623703, 0.2418842613697052, 0.22741247713565826, 0.21294958889484406], "z": [-0.39751115441322327, -0.3944094479084015, -0.3150363266468048, -0.17266599833965302, -0.07378850877285004, -0.044833552092313766, -0.03490709140896797, -0.03404601290822029, 0.03515581414103508, 0.026516873389482498, 0.08304891735315323, 0.08842173963785172, 0.10602106153964996, 0.12395361810922623, 0.12004644423723221, 0.1063959151506424], "text": ["meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L1", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L2", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L3", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L4", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L5", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L6", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L7", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L8", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L9", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L10", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L11", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L12", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L13", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L14", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L15", "meta-llama/Llama-3.2-1B<br>subset=en<br>layer=L16"], "color": "#F28E2B"}, {"kind": "points", "subset": "en", "model": "meta-llama/Llama-3.2-3B", "name": "meta-llama/Llama-3.2-3B [en]", "x": [0.7593620419502258, 0.7919621467590332, 0.8171165585517883, 0.8692148327827454, 0.8478561043739319, 0.8757737278938293, 0.8815267086029053, 0.8637534379959106, 0.8724411129951477, 0.8332686424255371, 0.8553746938705444, 0.889377772808075, 0.8952032327651978, 0.8307023048400879, 0.859807550907135, 0.8684621453285217, 0.8703025579452515, 0.8673233985900879, 0.8651069402694702, 0.861975371837616, 0.8586172461509705, 0.856499969959259, 0.865172266960144, 0.8634174466133118, 0.8695662021636963, 0.8666591644287109, 0.8704748153686523, 0.8579062819480896], "y": [-0.045295897871255875, -0.00018487396300770342, 0.03212597966194153, 0.08084302395582199, 0.18973159790039062, 0.22727583348751068, 0.2538118362426758, 0.3092724680900574, 0.312195360660553, 0.35572996735572815, 0.3395819067955017, 0.31251418590545654, 0.2944250702857971, 0.32202258706092834, 0.29475995898246765, 0.2938251197338104, 0.287606418132782, 0.28888067603111267, 0.29502132534980774, 0.3017396628856659, 0.30502399802207947, 0.30521053075790405, 0.28986474871635437, 0.28442150354385376, 0.28034472465515137, 0.2763381600379944, 0.2545310854911804, 0.2322789430618286], "z": [-0.4044753909111023, -0.40583595633506775, -0.3773978352546692, -0.2583681643009186, -0.08206357806921005, -0.0756801888346672, -0.09289667010307312, -0.022417405620217323, -0.02073737606406212, 0.016422798857092857, 0.008885858580470085, -0.010939091444015503, 0.020060010254383087, 0.10094329714775085, 0.09407398104667664, 0.1404418647289276, 0.14470162987709045, 0.16379332542419434, 0.17790831625461578, 0.19211940467357635, 0.1929885745048523, 0.19335049390792847, 0.17530041933059692, 0.1872173696756363, 0.17715588212013245, 0.17540183663368225, 0.15176667273044586, 0.12905651330947876], "text": ["meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L1", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L2", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L3", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L4", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L5", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L6", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L7", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L8", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L9", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L10", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L11", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L12", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L13", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L14", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L15", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L16", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L17", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L18", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L19", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L20", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L21", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L22", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L23", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L24", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L25", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L26", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L27", "meta-llama/Llama-3.2-3B<br>subset=en<br>layer=L28"], "color": "#59A14F"}, {"kind": "points", "subset": "en", "model": "openai/gpt-oss-20b", "name": "openai/gpt-oss-20b [en]", "x": [0.7550190687179565, 0.7709166407585144, 0.822796106338501, 0.8334921598434448, 0.8077799081802368, 0.7643143534660339, 0.7197336554527283, 0.7421278357505798, 0.7365038990974426, 0.7353518605232239, 0.7157306671142578, 0.6819574236869812, 0.7083285450935364, 0.7084034085273743, 0.7493730187416077, 0.7889889478683472, 0.7917044758796692, 0.7986840009689331, 0.8113554120063782, 0.7770773768424988, 0.7186726927757263, 0.7088824510574341, 0.7205801010131836, 0.7231230139732361], "y": [0.02322898618876934, 0.08806358277797699, 0.14293703436851501, 0.2164677083492279, 0.28916841745376587, 0.32894837856292725, 0.32723376154899597, 0.341628760099411, 0.3451475501060486, 0.35359013080596924, 0.371600478887558, 0.382642924785614, 0.37302061915397644, 0.37864696979522705, 0.3613566756248474, 0.3393898010253906, 0.31938621401786804, 0.2661784291267395, 0.21414777636528015, 0.19741694629192352, 0.1329670250415802, 0.15321537852287292, 0.1446244716644287, 0.14307504892349243], "z": [-0.3922977149486542, -0.35962608456611633, -0.31672725081443787, -0.25878193974494934, -0.2162388563156128, -0.19685080647468567, -0.23220999538898468, -0.22288818657398224, -0.20277190208435059, -0.16472674906253815, -0.13310325145721436, -0.11056312173604965, -0.1200859323143959, -0.09971819818019867, -0.14110292494297028, -0.15793198347091675, -0.15312460064888, -0.14402754604816437, -0.18613697588443756, -0.16648633778095245, -0.1887369304895401, -0.152423694729805, -0.147055521607399, -0.1410185545682907], "text": ["openai/gpt-oss-20b<br>subset=en<br>layer=L1", "openai/gpt-oss-20b<br>subset=en<br>layer=L2", "openai/gpt-oss-20b<br>subset=en<br>layer=L3", "openai/gpt-oss-20b<br>subset=en<br>layer=L4", "openai/gpt-oss-20b<br>subset=en<br>layer=L5", "openai/gpt-oss-20b<br>subset=en<br>layer=L6", "openai/gpt-oss-20b<br>subset=en<br>layer=L7", "openai/gpt-oss-20b<br>subset=en<br>layer=L8", "openai/gpt-oss-20b<br>subset=en<br>layer=L9", "openai/gpt-oss-20b<br>subset=en<br>layer=L10", "openai/gpt-oss-20b<br>subset=en<br>layer=L11", "openai/gpt-oss-20b<br>subset=en<br>layer=L12", "openai/gpt-oss-20b<br>subset=en<br>layer=L13", "openai/gpt-oss-20b<br>subset=en<br>layer=L14", "openai/gpt-oss-20b<br>subset=en<br>layer=L15", "openai/gpt-oss-20b<br>subset=en<br>layer=L16", "openai/gpt-oss-20b<br>subset=en<br>layer=L17", "openai/gpt-oss-20b<br>subset=en<br>layer=L18", "openai/gpt-oss-20b<br>subset=en<br>layer=L19", "openai/gpt-oss-20b<br>subset=en<br>layer=L20", "openai/gpt-oss-20b<br>subset=en<br>layer=L21", "openai/gpt-oss-20b<br>subset=en<br>layer=L22", "openai/gpt-oss-20b<br>subset=en<br>layer=L23", "openai/gpt-oss-20b<br>subset=en<br>layer=L24"], "color": "#E15759"}, {"kind": "points", "subset": "hi", "model": "meta-llama/Llama-3.1-8B", "name": "meta-llama/Llama-3.1-8B [hi]", "x": [0.5712518692016602, 0.6425855755805969, 0.7106859683990479, 0.788830578327179, 0.8433429002761841, 0.8569644093513489, 0.8636263012886047, 0.8462862968444824, 0.8487522602081299, 0.8335591554641724, 0.8420476913452148, 0.8586933612823486, 0.8759132027626038, 0.8789689540863037, 0.8151255249977112, 0.8221397399902344, 0.8488006591796875, 0.8590824604034424, 0.8331006765365601, 0.8271850347518921, 0.8294801115989685, 0.828705906867981, 0.8285242915153503, 0.8312066793441772, 0.8234054446220398, 0.8319981694221497, 0.8183313012123108, 0.8176952600479126, 0.8236504197120667, 0.8152873516082764, 0.8093776106834412, 0.7980074882507324], "y": [-0.3692491948604584, -0.3658629357814789, -0.35718613862991333, -0.3413397967815399, -0.31828856468200684, -0.28093159198760986, -0.24875740706920624, -0.2276129424571991, -0.21733452379703522, -0.22471983730793, -0.22799359261989594, -0.23579804599285126, -0.23575864732265472, -0.23159223794937134, -0.2824651300907135, -0.2901170551776886, -0.29580140113830566, -0.29948076605796814, -0.31491395831108093, -0.32325416803359985, -0.32466357946395874, -0.3217673599720001, -0.3187401294708252, -0.3120180666446686, -0.3054950535297394, -0.3104645609855652, -0.31614071130752563, -0.3213995397090912, -0.3190886676311493, -0.31646859645843506, -0.31921282410621643, -0.2987383008003235], "z": [-0.41198229789733887, -0.42233920097351074, -0.4109465181827545, -0.3632216155529022, -0.20466455817222595, -0.1347368210554123, -0.09250519424676895, -0.004587565083056688, 0.02110256813466549, 0.09856594353914261, 0.12487713992595673, 0.10812555253505707, 0.11038067936897278, 0.1255430430173874, 0.22713008522987366, 0.23654618859291077, 0.24846257269382477, 0.24621112644672394, 0.28583645820617676, 0.3012400269508362, 0.31024250388145447, 0.32173794507980347, 0.33057519793510437, 0.32861074805259705, 0.341584712266922, 0.3194591999053955, 0.33753350377082825, 0.33260098099708557, 0.31840288639068604, 0.3256208598613739, 0.3195711076259613, 0.26577407121658325], "text": ["meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L1", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L2", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L3", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L4", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L5", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L6", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L7", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L8", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L9", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L10", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L11", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L12", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L13", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L14", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L15", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L16", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L17", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L18", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L19", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L20", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L21", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L22", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L23", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L24", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L25", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L26", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L27", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L28", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L29", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L30", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L31", "meta-llama/Llama-3.1-8B<br>subset=hi<br>layer=L32"], "color": "#4E79A7"}, {"kind": "points", "subset": "hi", "model": "meta-llama/Llama-3.2-1B", "name": "meta-llama/Llama-3.2-1B [hi]", "x": [0.617042601108551, 0.6910542249679565, 0.7668211460113525, 0.8313596844673157, 0.8440643548965454, 0.8581991791725159, 0.8634616136550903, 0.8705314993858337, 0.8466297388076782, 0.8692103028297424, 0.8511539101600647, 0.8568773865699768, 0.8397983312606812, 0.8182671070098877, 0.8246141076087952, 0.8012315630912781], "y": [-0.376059353351593, -0.36922335624694824, -0.35793188214302063, -0.31623032689094543, -0.27912503480911255, -0.2540517747402191, -0.24098356068134308, -0.254256010055542, -0.31829947233200073, -0.32557693123817444, -0.35161975026130676, -0.34184402227401733, -0.3545197546482086, -0.35905033349990845, -0.35735103487968445, -0.3456231951713562], "z": [-0.40097561478614807, -0.4151076078414917, -0.37599173188209534, -0.28819894790649414, -0.15034763514995575, -0.11416022479534149, -0.07357193529605865, -0.07156753540039062, 0.005998954642564058, -0.02768627554178238, -0.001370757701806724, -0.005205893889069557, 0.022144339978694916, 0.03352031484246254, 0.042264025658369064, 0.05461979657411575], "text": ["meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L1", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L2", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L3", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L4", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L5", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L6", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L7", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L8", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L9", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L10", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L11", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L12", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L13", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L14", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L15", "meta-llama/Llama-3.2-1B<br>subset=hi<br>layer=L16"], "color": "#F28E2B"}, {"kind": "points", "subset": "hi", "model": "meta-llama/Llama-3.2-3B", "name": "meta-llama/Llama-3.2-3B [hi]", "x": [0.6055187582969666, 0.6846252083778381, 0.7491226196289062, 0.8152247071266174, 0.8171160817146301, 0.8484311699867249, 0.8572973608970642, 0.8583735227584839, 0.8661412596702576, 0.8581444621086121, 0.8710474371910095, 0.896712064743042, 0.8968338966369629, 0.8451935648918152, 0.8620097041130066, 0.8759173154830933, 0.8765185475349426, 0.872104823589325, 0.8676980137825012, 0.8617770671844482, 0.8562412858009338, 0.8480445146560669, 0.8558672666549683, 0.8491095900535583, 0.8444074392318726, 0.8441247344017029, 0.8431078195571899, 0.8359712362289429], "y": [-0.37877440452575684, -0.3678361177444458, -0.35942450165748596, -0.346565842628479, -0.3323326110839844, -0.30512735247612, -0.27070480585098267, -0.24189874529838562, -0.22214797139167786, -0.2279883772134781, -0.23281997442245483, -0.23628896474838257, -0.2553161084651947, -0.2933790385723114, -0.29265862703323364, -0.3007313311100006, -0.3140372931957245, -0.32294681668281555, -0.32590392231941223, -0.3201001286506653, -0.3131365180015564, -0.3091662526130676, -0.31904512643814087, -0.32127246260643005, -0.3310030400753021, -0.3215487599372864, -0.32546278834342957, -0.3262268602848053], "z": [-0.39862748980522156, -0.4092116951942444, -0.3846491873264313, -0.3368357717990875, -0.14833544194698334, -0.11047583818435669, -0.07369493693113327, -0.01698288694024086, -0.01310147624462843, 0.059874992817640305, 0.03752313554286957, 0.017615314573049545, 0.041007574647665024, 0.16431762278079987, 0.15979647636413574, 0.17441633343696594, 0.1597268283367157, 0.17010803520679474, 0.17977888882160187, 0.19525110721588135, 0.2088722139596939, 0.21817004680633545, 0.1914614886045456, 0.20991522073745728, 0.20298609137535095, 0.20271989703178406, 0.19617415964603424, 0.1694970279932022], "text": ["meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L1", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L2", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L3", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L4", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L5", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L6", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L7", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L8", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L9", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L10", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L11", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L12", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L13", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L14", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L15", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L16", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L17", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L18", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L19", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L20", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L21", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L22", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L23", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L24", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L25", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L26", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L27", "meta-llama/Llama-3.2-3B<br>subset=hi<br>layer=L28"], "color": "#59A14F"}, {"kind": "points", "subset": "hi", "model": "openai/gpt-oss-20b", "name": "openai/gpt-oss-20b [hi]", "x": [0.754485011100769, 0.8046606779098511, 0.8578667044639587, 0.8771560788154602, 0.8755162358283997, 0.8536890149116516, 0.833852231502533, 0.8550989031791687, 0.8556952476501465, 0.8511187434196472, 0.8343483805656433, 0.7871710658073425, 0.8197486996650696, 0.821564793586731, 0.8400049805641174, 0.8648366928100586, 0.8634562492370605, 0.8449451327323914, 0.8620416522026062, 0.8361485600471497, 0.8454402685165405, 0.8385992050170898, 0.8315593004226685, 0.8252031803131104], "y": [-0.29373568296432495, -0.25242847204208374, -0.1893160343170166, -0.15878069400787354, -0.1041087806224823, -0.057334594428539276, -0.04135048761963844, -0.054804109036922455, -0.04917203634977341, -0.036494188010692596, -0.01574087142944336, 0.009663200005888939, -0.015913087874650955, -0.018463164567947388, -0.03852150961756706, -0.07735654711723328, -0.08585268259048462, -0.12063484638929367, -0.14976263046264648, -0.17630532383918762, -0.20724298059940338, -0.18400666117668152, -0.18888570368289948, -0.17105700075626373], "z": [-0.31756943464279175, -0.29370933771133423, -0.1872882843017578, -0.1436995416879654, -0.09523385018110275, -0.042621027678251266, -0.08796607702970505, -0.08629117161035538, -0.08492748439311981, -0.05657321214675903, -0.03116617724299431, 0.010464697144925594, -0.006979213561862707, 0.013584866188466549, -0.014098375104367733, -0.019056137651205063, -0.01573464274406433, 0.013240349479019642, -0.011335937306284904, 0.0039847432635724545, -0.023107338696718216, 0.021447699517011642, 0.03533792123198509, 0.03915095701813698], "text": ["openai/gpt-oss-20b<br>subset=hi<br>layer=L1", "openai/gpt-oss-20b<br>subset=hi<br>layer=L2", "openai/gpt-oss-20b<br>subset=hi<br>layer=L3", "openai/gpt-oss-20b<br>subset=hi<br>layer=L4", "openai/gpt-oss-20b<br>subset=hi<br>layer=L5", "openai/gpt-oss-20b<br>subset=hi<br>layer=L6", "openai/gpt-oss-20b<br>subset=hi<br>layer=L7", "openai/gpt-oss-20b<br>subset=hi<br>layer=L8", "openai/gpt-oss-20b<br>subset=hi<br>layer=L9", "openai/gpt-oss-20b<br>subset=hi<br>layer=L10", "openai/gpt-oss-20b<br>subset=hi<br>layer=L11", "openai/gpt-oss-20b<br>subset=hi<br>layer=L12", "openai/gpt-oss-20b<br>subset=hi<br>layer=L13", "openai/gpt-oss-20b<br>subset=hi<br>layer=L14", "openai/gpt-oss-20b<br>subset=hi<br>layer=L15", "openai/gpt-oss-20b<br>subset=hi<br>layer=L16", "openai/gpt-oss-20b<br>subset=hi<br>layer=L17", "openai/gpt-oss-20b<br>subset=hi<br>layer=L18", "openai/gpt-oss-20b<br>subset=hi<br>layer=L19", "openai/gpt-oss-20b<br>subset=hi<br>layer=L20", "openai/gpt-oss-20b<br>subset=hi<br>layer=L21", "openai/gpt-oss-20b<br>subset=hi<br>layer=L22", "openai/gpt-oss-20b<br>subset=hi<br>layer=L23", "openai/gpt-oss-20b<br>subset=hi<br>layer=L24"], "color": "#E15759"}]</script>
  <script id="TRACE_PAIRS" type="application/json">[{"kind": "pairs", "model": "meta-llama/Llama-3.1-8B", "name": "meta-llama/Llama-3.1-8B pairs (en\u2194hi)", "x": [0.7600491642951965, 0.5712518692016602, null, 0.7985439896583557, 0.6425855755805969, null, 0.8328583836555481, 0.7106859683990479, null, 0.8778132796287537, 0.788830578327179, null, 0.8574036359786987, 0.8433429002761841, null, 0.8579843044281006, 0.8569644093513489, null, 0.863868772983551, 0.8636263012886047, null, 0.8374199867248535, 0.8462862968444824, null, 0.8487735390663147, 0.8487522602081299, null, 0.8193911910057068, 0.8335591554641724, null, 0.8361912965774536, 0.8420476913452148, null, 0.8596382141113281, 0.8586933612823486, null, 0.8854217529296875, 0.8759132027626038, null, 0.8908146023750305, 0.8789689540863037, null, 0.8358294367790222, 0.8151255249977112, null, 0.8431723117828369, 0.8221397399902344, null, 0.8639349341392517, 0.8488006591796875, null, 0.8657228946685791, 0.8590824604034424, null, 0.8529009222984314, 0.8331006765365601, null, 0.8551172018051147, 0.8271850347518921, null, 0.8499290943145752, 0.8294801115989685, null, 0.850007176399231, 0.828705906867981, null, 0.8477258682250977, 0.8285242915153503, null, 0.8442065119743347, 0.8312066793441772, null, 0.8426351547241211, 0.8234054446220398, null, 0.8491807579994202, 0.8319981694221497, null, 0.8479320406913757, 0.8183313012123108, null, 0.8486272692680359, 0.8176952600479126, null, 0.8547084331512451, 0.8236504197120667, null, 0.8494298458099365, 0.8152873516082764, null, 0.856877863407135, 0.8093776106834412, null, 0.79931640625, 0.7980074882507324, null], "y": [-0.05620315298438072, -0.3692491948604584, null, 0.003081065835431218, -0.3658629357814789, null, 0.040731169283390045, -0.35718613862991333, null, 0.10245273262262344, -0.3413397967815399, null, 0.2274167239665985, -0.31828856468200684, null, 0.28896990418434143, -0.28093159198760986, null, 0.3092959225177765, -0.24875740706920624, null, 0.36454546451568604, -0.2276129424571991, null, 0.3667845129966736, -0.21733452379703522, null, 0.39098912477493286, -0.22471983730793, null, 0.3879208266735077, -0.22799359261989594, null, 0.370433509349823, -0.23579804599285126, null, 0.33879923820495605, -0.23575864732265472, null, 0.32346880435943604, -0.23159223794937134, null, 0.3506644368171692, -0.2824651300907135, null, 0.3218762278556824, -0.2901170551776886, null, 0.3194660246372223, -0.29580140113830566, null, 0.3155500590801239, -0.29948076605796814, null, 0.3281515836715698, -0.31491395831108093, null, 0.3291870653629303, -0.32325416803359985, null, 0.3343271017074585, -0.32466357946395874, null, 0.33976873755455017, -0.3217673599720001, null, 0.340605765581131, -0.3187401294708252, null, 0.3411729335784912, -0.3120180666446686, null, 0.34002795815467834, -0.3054950535297394, null, 0.32736721634864807, -0.3104645609855652, null, 0.3301193416118622, -0.31614071130752563, null, 0.3313595652580261, -0.3213995397090912, null, 0.32551801204681396, -0.3190886676311493, null, 0.32256796956062317, -0.31646859645843506, null, 0.289287269115448, -0.31921282410621643, null, 0.2721017301082611, -0.2987383008003235, null], "z": [-0.408672571182251, -0.41198229789733887, null, -0.40407872200012207, -0.42233920097351074, null, -0.3563317060470581, -0.4109465181827545, null, -0.21656489372253418, -0.3632216155529022, null, -0.07536891847848892, -0.20466455817222595, null, -0.04667587950825691, -0.1347368210554123, null, -0.0538194365799427, -0.09250519424676895, null, 0.0018389350734651089, -0.004587565083056688, null, 0.009596862830221653, 0.02110256813466549, null, 0.0316559262573719, 0.09856594353914261, null, 0.030997445806860924, 0.12487713992595673, null, 0.02270006388425827, 0.10812555253505707, null, 0.015806924551725388, 0.11038067936897278, null, 0.02773933857679367, 0.1255430430173874, null, 0.09275788068771362, 0.22713008522987366, null, 0.0917598158121109, 0.23654618859291077, null, 0.10340838134288788, 0.24846257269382477, null, 0.11868075281381607, 0.24621112644672394, null, 0.15025462210178375, 0.28583645820617676, null, 0.16514000296592712, 0.3012400269508362, null, 0.17547863721847534, 0.31024250388145447, null, 0.18456585705280304, 0.32173794507980347, null, 0.19100439548492432, 0.33057519793510437, null, 0.19096441566944122, 0.32861074805259705, null, 0.19057609140872955, 0.341584712266922, null, 0.17706049978733063, 0.3194591999053955, null, 0.18398380279541016, 0.33753350377082825, null, 0.18487222492694855, 0.33260098099708557, null, 0.16992031037807465, 0.31840288639068604, null, 0.16727672517299652, 0.3256208598613739, null, 0.14146097004413605, 0.3195711076259613, null, 0.1298595517873764, 0.26577407121658325, null], "color": "#4E79A7"}, {"kind": "pairs", "model": "meta-llama/Llama-3.2-1B", "name": "meta-llama/Llama-3.2-1B pairs (en\u2194hi)", "x": [0.7617435455322266, 0.617042601108551, null, 0.8011446595191956, 0.6910542249679565, null, 0.8468958139419556, 0.7668211460113525, null, 0.8657321333885193, 0.8313596844673157, null, 0.8435563445091248, 0.8440643548965454, null, 0.8602239489555359, 0.8581991791725159, null, 0.879855215549469, 0.8634616136550903, null, 0.8856377601623535, 0.8705314993858337, null, 0.8611871004104614, 0.8466297388076782, null, 0.8918454647064209, 0.8692103028297424, null, 0.8706190586090088, 0.8511539101600647, null, 0.8705084323883057, 0.8568773865699768, null, 0.868507981300354, 0.8397983312606812, null, 0.8619053363800049, 0.8182671070098877, null, 0.8592190742492676, 0.8246141076087952, null, 0.8307879567146301, 0.8012315630912781, null], "y": [-0.044864945113658905, -0.376059353351593, null, -0.005524822510778904, -0.36922335624694824, null, 0.04778238758444786, -0.35793188214302063, null, 0.1456778645515442, -0.31623032689094543, null, 0.23299503326416016, -0.27912503480911255, null, 0.25176307559013367, -0.2540517747402191, null, 0.2641638219356537, -0.24098356068134308, null, 0.26510709524154663, -0.254256010055542, null, 0.2425350546836853, -0.31829947233200073, null, 0.21390466392040253, -0.32557693123817444, null, 0.2210407257080078, -0.35161975026130676, null, 0.22918106615543365, -0.34184402227401733, null, 0.2316771000623703, -0.3545197546482086, null, 0.2418842613697052, -0.35905033349990845, null, 0.22741247713565826, -0.35735103487968445, null, 0.21294958889484406, -0.3456231951713562, null], "z": [-0.39751115441322327, -0.40097561478614807, null, -0.3944094479084015, -0.4151076078414917, null, -0.3150363266468048, -0.37599173188209534, null, -0.17266599833965302, -0.28819894790649414, null, -0.07378850877285004, -0.15034763514995575, null, -0.044833552092313766, -0.11416022479534149, null, -0.03490709140896797, -0.07357193529605865, null, -0.03404601290822029, -0.07156753540039062, null, 0.03515581414103508, 0.005998954642564058, null, 0.026516873389482498, -0.02768627554178238, null, 0.08304891735315323, -0.001370757701806724, null, 0.08842173963785172, -0.005205893889069557, null, 0.10602106153964996, 0.022144339978694916, null, 0.12395361810922623, 0.03352031484246254, null, 0.12004644423723221, 0.042264025658369064, null, 0.1063959151506424, 0.05461979657411575, null], "color": "#F28E2B"}, {"kind": "pairs", "model": "meta-llama/Llama-3.2-3B", "name": "meta-llama/Llama-3.2-3B pairs (en\u2194hi)", "x": [0.7593620419502258, 0.6055187582969666, null, 0.7919621467590332, 0.6846252083778381, null, 0.8171165585517883, 0.7491226196289062, null, 0.8692148327827454, 0.8152247071266174, null, 0.8478561043739319, 0.8171160817146301, null, 0.8757737278938293, 0.8484311699867249, null, 0.8815267086029053, 0.8572973608970642, null, 0.8637534379959106, 0.8583735227584839, null, 0.8724411129951477, 0.8661412596702576, null, 0.8332686424255371, 0.8581444621086121, null, 0.8553746938705444, 0.8710474371910095, null, 0.889377772808075, 0.896712064743042, null, 0.8952032327651978, 0.8968338966369629, null, 0.8307023048400879, 0.8451935648918152, null, 0.859807550907135, 0.8620097041130066, null, 0.8684621453285217, 0.8759173154830933, null, 0.8703025579452515, 0.8765185475349426, null, 0.8673233985900879, 0.872104823589325, null, 0.8651069402694702, 0.8676980137825012, null, 0.861975371837616, 0.8617770671844482, null, 0.8586172461509705, 0.8562412858009338, null, 0.856499969959259, 0.8480445146560669, null, 0.865172266960144, 0.8558672666549683, null, 0.8634174466133118, 0.8491095900535583, null, 0.8695662021636963, 0.8444074392318726, null, 0.8666591644287109, 0.8441247344017029, null, 0.8704748153686523, 0.8431078195571899, null, 0.8579062819480896, 0.8359712362289429, null], "y": [-0.045295897871255875, -0.37877440452575684, null, -0.00018487396300770342, -0.3678361177444458, null, 0.03212597966194153, -0.35942450165748596, null, 0.08084302395582199, -0.346565842628479, null, 0.18973159790039062, -0.3323326110839844, null, 0.22727583348751068, -0.30512735247612, null, 0.2538118362426758, -0.27070480585098267, null, 0.3092724680900574, -0.24189874529838562, null, 0.312195360660553, -0.22214797139167786, null, 0.35572996735572815, -0.2279883772134781, null, 0.3395819067955017, -0.23281997442245483, null, 0.31251418590545654, -0.23628896474838257, null, 0.2944250702857971, -0.2553161084651947, null, 0.32202258706092834, -0.2933790385723114, null, 0.29475995898246765, -0.29265862703323364, null, 0.2938251197338104, -0.3007313311100006, null, 0.287606418132782, -0.3140372931957245, null, 0.28888067603111267, -0.32294681668281555, null, 0.29502132534980774, -0.32590392231941223, null, 0.3017396628856659, -0.3201001286506653, null, 0.30502399802207947, -0.3131365180015564, null, 0.30521053075790405, -0.3091662526130676, null, 0.28986474871635437, -0.31904512643814087, null, 0.28442150354385376, -0.32127246260643005, null, 0.28034472465515137, -0.3310030400753021, null, 0.2763381600379944, -0.3215487599372864, null, 0.2545310854911804, -0.32546278834342957, null, 0.2322789430618286, -0.3262268602848053, null], "z": [-0.4044753909111023, -0.39862748980522156, null, -0.40583595633506775, -0.4092116951942444, null, -0.3773978352546692, -0.3846491873264313, null, -0.2583681643009186, -0.3368357717990875, null, -0.08206357806921005, -0.14833544194698334, null, -0.0756801888346672, -0.11047583818435669, null, -0.09289667010307312, -0.07369493693113327, null, -0.022417405620217323, -0.01698288694024086, null, -0.02073737606406212, -0.01310147624462843, null, 0.016422798857092857, 0.059874992817640305, null, 0.008885858580470085, 0.03752313554286957, null, -0.010939091444015503, 0.017615314573049545, null, 0.020060010254383087, 0.041007574647665024, null, 0.10094329714775085, 0.16431762278079987, null, 0.09407398104667664, 0.15979647636413574, null, 0.1404418647289276, 0.17441633343696594, null, 0.14470162987709045, 0.1597268283367157, null, 0.16379332542419434, 0.17010803520679474, null, 0.17790831625461578, 0.17977888882160187, null, 0.19211940467357635, 0.19525110721588135, null, 0.1929885745048523, 0.2088722139596939, null, 0.19335049390792847, 0.21817004680633545, null, 0.17530041933059692, 0.1914614886045456, null, 0.1872173696756363, 0.20991522073745728, null, 0.17715588212013245, 0.20298609137535095, null, 0.17540183663368225, 0.20271989703178406, null, 0.15176667273044586, 0.19617415964603424, null, 0.12905651330947876, 0.1694970279932022, null], "color": "#59A14F"}, {"kind": "pairs", "model": "openai/gpt-oss-20b", "name": "openai/gpt-oss-20b pairs (en\u2194hi)", "x": [0.7550190687179565, 0.754485011100769, null, 0.7709166407585144, 0.8046606779098511, null, 0.822796106338501, 0.8578667044639587, null, 0.8334921598434448, 0.8771560788154602, null, 0.8077799081802368, 0.8755162358283997, null, 0.7643143534660339, 0.8536890149116516, null, 0.7197336554527283, 0.833852231502533, null, 0.7421278357505798, 0.8550989031791687, null, 0.7365038990974426, 0.8556952476501465, null, 0.7353518605232239, 0.8511187434196472, null, 0.7157306671142578, 0.8343483805656433, null, 0.6819574236869812, 0.7871710658073425, null, 0.7083285450935364, 0.8197486996650696, null, 0.7084034085273743, 0.821564793586731, null, 0.7493730187416077, 0.8400049805641174, null, 0.7889889478683472, 0.8648366928100586, null, 0.7917044758796692, 0.8634562492370605, null, 0.7986840009689331, 0.8449451327323914, null, 0.8113554120063782, 0.8620416522026062, null, 0.7770773768424988, 0.8361485600471497, null, 0.7186726927757263, 0.8454402685165405, null, 0.7088824510574341, 0.8385992050170898, null, 0.7205801010131836, 0.8315593004226685, null, 0.7231230139732361, 0.8252031803131104, null], "y": [0.02322898618876934, -0.29373568296432495, null, 0.08806358277797699, -0.25242847204208374, null, 0.14293703436851501, -0.1893160343170166, null, 0.2164677083492279, -0.15878069400787354, null, 0.28916841745376587, -0.1041087806224823, null, 0.32894837856292725, -0.057334594428539276, null, 0.32723376154899597, -0.04135048761963844, null, 0.341628760099411, -0.054804109036922455, null, 0.3451475501060486, -0.04917203634977341, null, 0.35359013080596924, -0.036494188010692596, null, 0.371600478887558, -0.01574087142944336, null, 0.382642924785614, 0.009663200005888939, null, 0.37302061915397644, -0.015913087874650955, null, 0.37864696979522705, -0.018463164567947388, null, 0.3613566756248474, -0.03852150961756706, null, 0.3393898010253906, -0.07735654711723328, null, 0.31938621401786804, -0.08585268259048462, null, 0.2661784291267395, -0.12063484638929367, null, 0.21414777636528015, -0.14976263046264648, null, 0.19741694629192352, -0.17630532383918762, null, 0.1329670250415802, -0.20724298059940338, null, 0.15321537852287292, -0.18400666117668152, null, 0.1446244716644287, -0.18888570368289948, null, 0.14307504892349243, -0.17105700075626373, null], "z": [-0.3922977149486542, -0.31756943464279175, null, -0.35962608456611633, -0.29370933771133423, null, -0.31672725081443787, -0.1872882843017578, null, -0.25878193974494934, -0.1436995416879654, null, -0.2162388563156128, -0.09523385018110275, null, -0.19685080647468567, -0.042621027678251266, null, -0.23220999538898468, -0.08796607702970505, null, -0.22288818657398224, -0.08629117161035538, null, -0.20277190208435059, -0.08492748439311981, null, -0.16472674906253815, -0.05657321214675903, null, -0.13310325145721436, -0.03116617724299431, null, -0.11056312173604965, 0.010464697144925594, null, -0.1200859323143959, -0.006979213561862707, null, -0.09971819818019867, 0.013584866188466549, null, -0.14110292494297028, -0.014098375104367733, null, -0.15793198347091675, -0.019056137651205063, null, -0.15312460064888, -0.01573464274406433, null, -0.14402754604816437, 0.013240349479019642, null, -0.18613697588443756, -0.011335937306284904, null, -0.16648633778095245, 0.0039847432635724545, null, -0.1887369304895401, -0.023107338696718216, null, -0.152423694729805, 0.021447699517011642, null, -0.147055521607399, 0.03533792123198509, null, -0.1410185545682907, 0.03915095701813698, null], "color": "#E15759"}]</script>

  <script>
    const tracesPoints = JSON.parse(document.getElementById('TRACE_POINTS').textContent);
    const tracesPairs  = JSON.parse(document.getElementById('TRACE_PAIRS').textContent);

    // Build Plotly traces
    const PLOT_TRACES = [];
    const META = []; // parallel array describing each trace

    // Points (scatter3d)
    for (const t of tracesPoints) {
      PLOT_TRACES.push({
        type:'scatter3d', mode:'markers',
        name: t.name, x:t.x, y:t.y, z:t.z,
        text: t.text, hovertemplate: '%{text}<extra></extra>',
        marker: { size:5, color: t.color, opacity: 0.9 },
        visible: true
      });
      META.push({kind:'points', subset:t.subset, model:t.model});
    }

    // Pair links (one per model, many segments separated by nulls)
    for (const t of tracesPairs) {
      PLOT_TRACES.push({
        type:'scatter3d', mode:'lines',
        name: t.name, x:t.x, y:t.y, z:t.z,
        hoverinfo:'skip', line: { color:t.color, width:2, dash:'dot' },
        visible: true
      });
      META.push({kind:'pairs', model:t.model});
    }

    const layout = {
      template: 'plotly_dark',
      paper_bgcolor: '#0f1116',
      plot_bgcolor: '#0f1116',
      title: 'CKA Projector — Joint embedding (cosine here = linear CKA on signatures)',
      margin: { l:0, r:0, t:40, b:0 },
      showlegend: true,
      scene: {
        xaxis: { title:'PC1' },
        yaxis: { title:'PC2' },
        zaxis: { title:'PC3' }
      }
    };
    const config = { responsive:true, displaylogo:false };
    const plotDiv = document.getElementById('plot');

    Plotly.newPlot(plotDiv, PLOT_TRACES, layout, config);

    function selectedSubsets() {
      const s = new Set();
      document.querySelectorAll('input.subsetcb').forEach(cb => { if (cb.checked) s.add(cb.value); });
      return s;
    }
    function selectedModels() {
      const s = new Set();
      document.querySelectorAll('input.modelcb').forEach(cb => { if (cb.checked) s.add(cb.value); });
      return s;
    }

    function updateVisibility() {
      const subs = selectedSubsets();
      const mods = selectedModels();
      const showPairs = document.getElementById('pairs').checked;

      const vis = META.map(meta => {
        if (meta.kind === 'points') {
          return subs.has(meta.subset) && mods.has(meta.model);
        } else if (meta.kind === 'pairs') {
          // Only show pair lines if both subsets are visible AND model is selected
          return showPairs && subs.has('en') && subs.has('hi') && mods.has(meta.model);
        }
        return false;
      });
      Plotly.restyle(plotDiv, 'visible', vis);
    }

    document.getElementById('datasets').addEventListener('change', updateVisibility);
    document.getElementById('models').addEventListener('change', updateVisibility);
    document.getElementById('pairs').addEventListener('change', updateVisibility);
    document.getElementById('resetcam').addEventListener('click', (e) => {
      e.preventDefault();
      Plotly.relayout(plotDiv, {
        'scene.camera': {
          up: {x:0, y:0, z:1}, center: {x:0, y:0, z:0}, eye: {x:1.5, y:1.5, z:1.25}
        }
      });
    });

    // initial state
    updateVisibility();
  </script>
</body>
</html>